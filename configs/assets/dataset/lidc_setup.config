import numpy as np
from connectome import Chain, Apply

from ood.dataset.utils import Shape, Zoom, ScaleHU


dataset_raw = None # need to be defined for each dataset in a separate config file

# if `voxel_spacing[i]` is `None` when `i`-th dimension will be used without scaling
voxel_spacing = (1., 1., 1.5)
max_cache_size = 1

final_layer = Apply(image=np.float32)

dataset = Chain(
    dataset_raw,
    Apply(image=np.float32),
    Zoom(new_spacing=voxel_spacing),
    ScaleHU(),
    Shape(),
    final_layer
)

n_tumors = None
